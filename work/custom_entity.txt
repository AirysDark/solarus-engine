Notes about the work in progress on custom entities.

Done:
- Document the map data file format.
- Support custom entities in the quest editor.
- Document map:create_custom_entity().
- Implement map:create_custom_entity().
- Implement basic properties in the engine: size, sprite, direction.
- Load custom entities from map data files.
- Load model scripts.

To be done:
- Document the custom_entity Lua type.
- Implement the Lua API of the custom_entity Lua type.

Properties:

model
sprite
direction
size

Methods:

Common from entity:

get_type()
get_map()
get_name()
exists()
remove()
is_enabled()
set_enabled()
get_size()
get_origin()
get_position()
set_position()
get_center_position()
snap_to_grid()
get_distance()
get_angle()
get_direction4_to()
get_direction8_to()
get_optimization_distance()
set_optimization_distance()
is_in_same_region()
test_obstacles()
is_visible()
set_visible()
get_movement()
stop_movement()

Specific to custom entity:

get_model()
has_layer_independent_collisions()
set_layer_independent_collisions()
set_size()
set_origin()
get_direction()
set_direction()
get_sprite()
create_sprite()
remove_sprite()

is/set_drawn_in_y_order()
is/set_drawn_at_its_position()
is/set_ground_observer()
is/set_ground_modifier()
get/set_modified_ground()

set_traversable_by(entity_type, traversable)
  Describes if another entity can traverse this custom entity.
  The traversable parameter may be:
  - a boolean (fast): whether the entity type can traverse this custom entity.
  - nil (fast): default (true).
  - a function: a function that takes both entities as parameter and should
    return a boolean or nil. Allows to decide dynamically.
  entity_type is optional: if it is not set, this applies to all entity types.

set_can_traverse(entity_type, traversable)
  Describes if this custom entity can traverse another entity.
  The traversable parameter may be:
  - a boolean (fast): whether that entity type is traversable or not.
  - nil (fast): default (depends on the other entity).
  - a function: a function that takes both entities as parameter and should
    return a boolean or nil. Allows to decide dynamically.
  entity_type is optional: if it is not set, this applies to all entity types.

can_traverse_ground(ground)
set_can_traverse_ground(ground, traversable)

add_collision_test(detector, callback)
  detector is a string or a function that takes an entity and returns a boolean.
  callback is a function that takes the entity detected and optionally both
  sprites.
clear_collision_tests()

Events:

Common from entity:

on_removed()
on_position_changed()
on_obstacle_reached()
on_movement_changed()
on_movement_finished()

Specific to custom entity:

on_update()
on_suspended()
on_created()
on_enabled()
on_disabled()
on_pre_draw()
on_post_draw()
on_ground_below_changed()
on_facing_entity_changed()
on_interaction()
on_interaction_item()

